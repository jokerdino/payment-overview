{% extends "layout.html" %}
{% block content %}
<h1 class="title">{{ title }}</h1>

<form class="mb-5" method="post" enctype="multipart/form-data">
    <input type="file" name="file" />
    <input type="submit" value="Upload" />
</form>

{% with messages = get_flashed_messages() %}
{% if messages %}
{% for message in messages %}
    <div class="notification is-success">
        <button class="delete"></button>
{{ message }}
    </div>
{% endfor %}
{% endif %}
{% endwith %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', () => {
  (document.querySelectorAll('.notification .delete') || []).forEach(($delete) => {
    const $notification = $delete.parentNode;

    $delete.addEventListener('click', () => {
      $notification.parentNode.removeChild($notification);
    });
  });
});
</script>
{% endblock scripts %}
{% endblock content %}
